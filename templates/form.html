<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Gerador de AnÃºncio de Frete</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
<div class="container">
    <h1 class="title">ğŸšš Gerador de AnÃºncio de Frete</h1>

    <form method="post" class="frete-form">
        <label>Produto/Carga:<input type="text" name="produto" required></label>
        <label>Quantidade:<input type="number" name="quantidade" required></label>
        <label>Peso por unidade (kg):<input type="number" step="0.01" name="peso" required></label>
        <label>Altura (cm):<input type="number" step="0.1" name="altura" required></label>
        <label>Comprimento (cm):<input type="number" step="0.1" name="comprimento" required></label>
        <label>Largura (cm):<input type="number" step="0.1" name="largura" required></label>
        <label>Origem:<input type="text" name="origem" required></label>
        <label>Destino:<input type="text" name="destino" required></label>
        <label>Valor da carga (R$):<input type="text" name="valor_nf" required></label>
        <label>Data de retirada:<input type="date" name="data_retirada" required></label>
        <label>ObservaÃ§Ãµes:<input type="text" name="observacoes"></label>

        <div class="btn-group">
            <button type="submit" class="btn">ğŸ“„ Gerar AnÃºncio</button>
        </div>
    </form>

    {% if distancia %}
    <div class="resultado">
        <h2>ğŸ§­ DistÃ¢ncia estimada: {{ distancia }}</h2>
    </div>
    {% endif %}

    {% if resultado %}
    <div class="resultado">
        <div class="bloco-anuncio">{{ resultado|safe }}</div>

        <div class="btn-group">
            <a href="#" class="btn" onclick="copiarTexto()">ğŸ“‹ Copiar</a>
            <a href="https://wa.me/?text={{ resultado|replace('<br>', '\n')|urlencode }}" target="_blank" class="btn">ğŸ“¤ WhatsApp</a>
            <a href="#" onclick="window.print()" class="btn">ğŸ§¾ PDF</a>
        </div>
    </div>
    {% endif %}
</div>

<script>
function copiarTexto() {
    const texto = document.querySelector('.bloco-anuncio').innerText;
    navigator.clipboard.writeText(texto).then(() => {
        alert('Texto copiado com sucesso!');
    }).catch(() => {
        alert('Erro ao copiar o texto.');
    });
}
</script>
</body>
</html>
