<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Gerador de AnÃºncio de Frete</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            padding: 2rem;
            background-color: #f8f9fa;
        }
        h1 {
            color: #28a745;
        }
        textarea {
            height: 80px;
        }
        .resultado {
            background-color: #fff;
            border-radius: 8px;
            padding: 20px;
            margin-top: 20px;
            box-shadow: 0 2px 6px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body>
    <h1>ðŸšš Gerador de AnÃºncio de Frete</h1>
    <form method="post" action="/simular" class="row g-3">
        {% for campo, valor in {
            'produto': 'Produto/Carga',
            'quantidade': 'Quantidade',
            'peso': 'Peso por unidade (kg)',
            'altura': 'Altura (cm)',
            'comprimento': 'Comprimento (cm)',
            'largura': 'Largura (cm)',
            'origem': 'Origem',
            'destino': 'Destino',
            'valor_nf': 'Valor da carga (R$)',
            'data_retirada': 'Data de retirada',
            'observacoes': 'ObservaÃ§Ãµes'
        }.items() %}
        <div class="col-md-{{ 6 if campo != 'observacoes' else 12 }}">
            {% if campo == 'data_retirada' %}
                <label class="form-label">{{ valor }}</label>
                <input type="date" name="{{ campo }}" class="form-control" value="{{ form_data[campo] if form_data and campo in form_data else '' }}">
            {% elif campo == 'observacoes' %}
                <label class="form-label">{{ valor }}</label>
                <textarea name="{{ campo }}" class="form-control">{{ form_data[campo] if form_data and campo in form_data else '' }}</textarea>
            {% else %}
                <label class="form-label">{{ valor }}</label>
                <input type="{{ 'number' if campo not in ['produto','origem','destino'] else 'text' }}" name="{{ campo }}" class="form-control" value="{{ form_data[campo] if form_data and campo in form_data else '' }}">
            {% endif %}
        </div>
        {% endfor %}
        <div class="col-12">
            <button type="submit" class="btn btn-success">âž• Gerar AnÃºncio</button>
        </div>
    </form>

    {% if resultado %}
    <div class="resultado">
        <p>{{ resultado|safe }}</p>
        <a href="{{ whatsapp_url }}" target="_blank" class="btn btn-outline-primary mt-2">ðŸ“¤ Compartilhar no WhatsApp</a>
    </div>
    {% endif %}
</body>
</html>
